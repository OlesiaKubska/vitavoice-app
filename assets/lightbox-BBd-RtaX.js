import{r as jt,g as qt,a as Gt}from"./react-DoC2WAmd.js";var n=jt();const dr=qt(n);var Qt=Gt();const ut="carousel",dt="controller",Jt="navigation",Zt="no-scroll",Ue="portal",en="root",ft="toolbar",Se="loading",Oe="error",Me="complete",tn="placeholder",nn=e=>`active-slide-${e}`,pt="flex_center",rn="no_scroll",ht="no_scroll_padding",on="slide_wrapper",G="prev",Q="next",Je="swipe",te="close",mt="onPointerDown",vt="onPointerMove",gt="onPointerUp",Et="onPointerLeave",xt="onPointerCancel",_t="onKeyDown",cn="onKeyUp",bt="onWheel",sn="Escape",ln="ArrowLeft",an="ArrowRight",un="button",ke="icon",Ct="contain",Ze="cover",dn="Unknown action type",Pt="yarl__";function j(...e){return[...e].filter(Boolean).join(" ")}function L(e){return`${Pt}${e}`}function U(e){return`--${Pt}${e}`}function se(e,t){return`${e}${t?`_${t}`:""}`}function Fe(e){return t=>se(e,t)}function fn(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function wt(...e){return()=>{e.forEach(t=>{t()})}}function J(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function Lt(){return typeof window<"u"}function pn(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function Nt(e){return e.type===void 0||e.type==="image"}function hn(e,t){return e.imageFit===Ze||e.imageFit!==Ct&&t===Ze}function xe(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ee(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=xe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function mn(e,t){const r=Ee(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function It(e,t){return t>0?(e%t+t)%t:0}function Rt(e){return e.length>0}function yt(e,t){return e[It(t,e.length)]}function We(e,t){return Rt(e)?yt(e,t):void 0}function vn(e){return Nt(e)?e.src:void 0}function gn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const En=Number(n.version.split(".")[0])>=19;function xn(e){return{inert:En?e:e?"":void 0}}const $e={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Ct,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Z(e,t){return{name:e,component:t}}function k(e,t){return{module:e,children:t}}function St(e,t,r){return e.module.name===t?r(e):e.children?[k(e.module,e.children.flatMap(o=>{var i;return(i=St(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ee(e,t,r){return e.flatMap(o=>{var i;return(i=St(o,t,r))!==null&&i!==void 0?i:[]})}function _n(e,t=[],r=[]){let o=e;const i=g=>{const h=[...o];for(;h.length>0;){const u=h.pop();if((u==null?void 0:u.module.name)===g)return!0;u!=null&&u.children&&h.push(...u.children)}return!1},c=(g,h)=>{if(g===""){o=[k(h,o)];return}o=ee(o,g,u=>[k(h,[u])])},s=(g,h)=>{o=ee(o,g,u=>[k(u.module,[k(h,u.children)])])},l=(g,h,u)=>{o=ee(o,g,P=>{var m;return[k(P.module,[...u?[k(h)]:[],...(m=P.children)!==null&&m!==void 0?m:[],...u?[]:[k(h)]])]})},f=(g,h,u)=>{o=ee(o,g,P=>[...u?[k(h)]:[],P,...u?[]:[k(h)]])},d=g=>{s(dt,g)},p=(g,h)=>{o=ee(o,g,u=>[k(h,u.children)])},v=g=>{o=ee(o,g,h=>h.children)},_=g=>{r.push(g)};return t.forEach(g=>{g({contains:i,addParent:c,append:s,addChild:l,addSibling:f,addModule:d,replace:p,remove:v,augment:_})}),{config:o,augmentation:g=>r.reduce((h,u)=>u(h),g)}}const Ot=n.createContext(null),Be=J("useDocument","DocumentContext",Ot);function bn({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=c=>{var s;return((s=c||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:c=>{var s;return((s=o(c))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return n.createElement(Ot.Provider,{value:r},t)}const Mt=n.createContext(null),_e=J("useEvents","EventsContext",Mt);function Cn({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(s,l)=>{var f;(f=t[s])===null||f===void 0||f.splice(0,t[s].length,...t[s].filter(d=>d!==l))};return{publish:(...[s,l])=>{var f;(f=t[s])===null||f===void 0||f.forEach(d=>d(l))},subscribe:(s,l)=>(t[s]||(t[s]=[]),t[s].push(l),()=>o(s,l)),unsubscribe:o}},[t]);return n.createElement(Mt.Provider,{value:r},e)}const Tt=n.createContext(null),le=J("useLightboxProps","LightboxPropsContext",Tt);function Pn({children:e,...t}){return n.createElement(Tt.Provider,{value:t},e)}const Dt=n.createContext(null),be=J("useLightboxState","LightboxStateContext",Dt),At=n.createContext(null),wn=J("useLightboxDispatch","LightboxDispatchContext",At);function Ln(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,i=e.globalIndex+o,c=It(i,r.length),s=We(r,c),l=o||t.duration?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:c,globalIndex:i,currentSlide:s,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:We(t.slides,t.index)}:e;default:throw new Error(dn)}}function Nn({slides:e,index:t,children:r}){const[o,i]=n.useReducer(Ln,{slides:e,currentIndex:t,globalIndex:t,currentSlide:We(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const c=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(At.Provider,{value:i},n.createElement(Dt.Provider,{value:c},r))}const kt=n.createContext(null),Ce=J("useTimeouts","TimeoutsContext",kt);function In({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=s=>{t.splice(0,t.length,...t.filter(l=>l!==s))};return{setTimeout:(s,l)=>{const f=window.setTimeout(()=>{o(f),s()},l);return t.push(f),f},clearTimeout:s=>{s!==void 0&&(o(s),window.clearTimeout(s))}}},[t]);return n.createElement(kt.Provider,{value:r},e)}const Wt=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:c,style:s,...l},f){const{styles:d,labels:p}=le(),v=fn(p,t);return n.createElement("button",{ref:f,type:"button",title:v,"aria-label":v,className:j(L(un),r),onClick:c,style:{...s,...d.button},...l},i?i():n.createElement(o,{className:L(ke),style:d.icon}))});function Rn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function ae(e,t){return Rn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const yn=ae("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Sn=ae("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),On=ae("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Mn=ae("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Tn=ae("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ue=Lt()?n.useLayoutEffect:n.useEffect;function $t(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const c=s=>t(s.matches);return(o=i==null?void 0:i.addEventListener)===null||o===void 0||o.call(i,"change",c),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",c)}},[]),e}function Dn(e){let t=0,r=0,o=0;const c=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(c){const s=c[1].split(",").map(xe);s.length===6?(t=s[4],r=s[5]):s.length===16&&(t=s[12],r=s[13],o=s[14])}return{x:t,y:r,z:o}}function et(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=$t();return ue(()=>{var c,s,l;if(e.current&&r.current!==void 0&&!i){const{keyframes:f,duration:d,easing:p,onfinish:v}=t(r.current,e.current.getBoundingClientRect(),Dn(e.current))||{};if(f&&d){(c=o.current)===null||c===void 0||c.cancel(),o.current=void 0;try{o.current=(l=(s=e.current).animate)===null||l===void 0?void 0:l.call(s,f,{duration:d,easing:p})}catch(_){console.error(_)}o.current&&(o.current.onfinish=()=>{o.current=void 0,v==null||v()})}}r.current=void 0}),{prepareAnimation:c=>{r.current=c},isAnimationPlaying:()=>{var c;return((c=o.current)===null||c===void 0?void 0:c.playState)==="running"}}}function Vt(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(c=>{e.current=c,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(c){const l=window.getComputedStyle(c),f=d=>parseFloat(d)||0;o({width:Math.round(c.clientWidth-f(l.paddingLeft)-f(l.paddingRight)),height:Math.round(c.clientHeight-f(l.paddingTop)-f(l.paddingBottom))})}else o(void 0)};s(),c&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(c))},[]),containerRef:e,containerRect:r}}function ge(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=Ce();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function D(e){const t=n.useRef(e);return ue(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function tt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ve(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{tt(e,r),tt(t,r)},[e,t])}function An(e,t=!1){const r=n.useRef(!1);ue(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function He(){const[e,t]=n.useState(!1);return ue(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function kn(){const[e]=n.useState({}),t=n.useCallback((i,c)=>{var s;(s=e[i])===null||s===void 0||s.forEach(l=>{c.isPropagationStopped()||l(c)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(mt,i),onPointerMove:i=>t(vt,i),onPointerUp:i=>t(gt,i),onPointerLeave:i=>t(Et,i),onPointerCancel:i=>t(xt,i),onKeyDown:i=>t(_t,i),onKeyUp:i=>t(cn,i),onWheel:i=>t(bt,i)}),[t]),o=n.useCallback((i,c)=>(e[i]||(e[i]=[]),e[i].unshift(c),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(l=>l!==c))}),[e]);return{registerSensors:r,subscribeSensors:o}}function nt(e,t){const r=n.useRef(0),o=ge(),i=D((...c)=>{r.current=Date.now(),e(c)});return n.useCallback((...c)=>{o(()=>{i(c)},t-(Date.now()-r.current))},[t,i,o])}const Te=Fe("slide"),De=Fe("slide_image");function Wn({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:c,onClick:s,onLoad:l,onError:f,style:d}){var p,v,_,g,h,u,P;const[m,N]=n.useState(Se),{publish:w}=_e(),{setTimeout:O}=Ce(),x=n.useRef(null);n.useEffect(()=>{t===0&&w(nn(m))},[t,m,w]);const S=D(C=>{("decode"in C?C.decode():Promise.resolve()).catch(()=>{}).then(()=>{C.parentNode&&(N(Me),O(()=>{l==null||l(C)},0))})}),R=n.useCallback(C=>{x.current=C,C!=null&&C.complete&&S(C)},[S]),M=n.useCallback(C=>{S(C.currentTarget)},[S]),I=D(()=>{N(Oe),f==null||f()}),E=hn(e,i),b=(C,Y)=>Number.isFinite(C)?C:Y,A=b(Math.max(...((v=(p=e.srcSet)===null||p===void 0?void 0:p.map(C=>C.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((_=x.current)===null||_===void 0?void 0:_.naturalWidth)||0),W=b(Math.max(...((h=(g=e.srcSet)===null||g===void 0?void 0:g.map(C=>C.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((u=x.current)===null||u===void 0?void 0:u.naturalHeight)||0),z=A&&W?{maxWidth:`min(${A}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},T=(P=e.srcSet)===null||P===void 0?void 0:P.sort((C,Y)=>C.width-Y.width).map(C=>`${C.src} ${C.width}w`).join(", "),ne=()=>o&&!E&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,B=T&&o&&Lt()?`${Math.round(Math.min(ne(),o.width))}px`:void 0,{style:fe,className:Pe,...we}=c||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:R,onLoad:M,onError:I,onClick:s,draggable:!1,className:j(L(De()),E&&L(De("cover")),m!==Me&&L(De("loading")),Pe),style:{...z,...d,...fe},...we,alt:e.alt,sizes:B,srcSet:T,src:e.src}),m!==Me&&n.createElement("div",{className:L(Te(tn))},m===Se&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(Mn,{className:j(L(ke),L(Te(Se)))})),m===Oe&&(r!=null&&r.iconError?r.iconError():n.createElement(Tn,{className:j(L(ke),L(Te(Oe)))}))))}const $n=n.forwardRef(function({className:t,children:r,...o},i){const c=n.useRef(null);return n.createElement(bn,{nodeRef:c},n.createElement("div",{ref:Ve(i,c),className:j(L("root"),t),...o},r))});var $;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})($||($={}));function Vn(e,t,r,o,i){n.useEffect(()=>wt(e(mt,t),e(vt,r),e(gt,o),e(Et,o),e(xt,o)),[e,t,r,o,i])}var H;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(H||(H={}));const Ae=30;function Un({disableSwipeNavigation:e},t,r,o,i,c,s,l,f,d,p,v,_,g,h){const u=n.useRef(0),P=n.useRef([]),m=n.useRef(void 0),N=n.useRef(0),w=n.useRef(H.NONE),O=n.useCallback(E=>{m.current===E.pointerId&&(m.current=void 0,w.current=H.NONE);const b=P.current;b.splice(0,b.length,...b.filter(A=>A.pointerId!==E.pointerId))},[]),x=n.useCallback(E=>{O(E),E.persist(),P.current.push(E)},[O]),S=D(E=>{x(E)}),R=(E,b)=>p&&E>b||d&&E<-b,M=D(E=>{if(P.current.find(b=>b.pointerId===E.pointerId)&&m.current===E.pointerId){const b=Date.now()-N.current,A=u.current;w.current===H.SWIPE?Math.abs(A)>.3*o||Math.abs(A)>5&&b<i?l(A,b):f(A):w.current===H.PULL&&(R(A,2*Ae)?g(A,b):h(A)),u.current=0,w.current=H.NONE}O(E)}),I=D(E=>{const b=P.current.find(A=>A.pointerId===E.pointerId);if(b){const A=m.current===E.pointerId;if(E.buttons===0){A&&u.current!==0?M(E):O(b);return}const W=E.clientX-b.clientX,z=E.clientY-b.clientY;if(m.current===void 0){const T=ne=>{x(E),m.current=E.pointerId,N.current=Date.now(),w.current=ne};Math.abs(W)>Math.abs(z)&&Math.abs(W)>Ae&&r(W)?e||(T(H.SWIPE),c()):Math.abs(z)>Math.abs(W)&&R(z,Ae)&&(T(H.PULL),v())}else A&&(w.current===H.SWIPE?(u.current=W,s(W)):w.current===H.PULL&&(u.current=z,_(z)))}});Vn(t,S,I,M)}function Fn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(i=>{const c=Math.abs(i.deltaX)>Math.abs(i.deltaY);(c&&e||!c&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var c;i?i.addEventListener("wheel",o,{passive:!1}):(c=r.current)===null||c===void 0||c.removeEventListener("wheel",o),r.current=i},[o])}function Bn(e,t,r,o,i,c,s,l,f){const d=n.useRef(0),p=n.useRef(0),v=n.useRef(void 0),_=n.useRef(void 0),g=n.useRef(0),h=n.useRef(void 0),u=n.useRef(0),{setTimeout:P,clearTimeout:m}=Ce(),N=n.useCallback(()=>{v.current&&(m(v.current),v.current=void 0)},[m]),w=n.useCallback(()=>{_.current&&(m(_.current),_.current=void 0)},[m]),O=D(()=>{e!==$.SWIPE&&(d.current=0,u.current=0,N(),w())});n.useEffect(O,[e,O]);const x=D(R=>{_.current=void 0,d.current===R&&f(d.current)}),S=D(R=>{if(R.ctrlKey||Math.abs(R.deltaY)>Math.abs(R.deltaX))return;const M=I=>{g.current=I,m(h.current),h.current=I>0?P(()=>{g.current=0,h.current=void 0},300):void 0};if(e===$.NONE){if(Math.abs(R.deltaX)<=1.2*Math.abs(g.current)){M(R.deltaX);return}if(!r(-R.deltaX))return;if(p.current+=R.deltaX,N(),Math.abs(p.current)>30)p.current=0,M(0),u.current=Date.now(),c();else{const I=p.current;v.current=P(()=>{v.current=void 0,I===p.current&&(p.current=0)},i)}}else if(e===$.SWIPE){let I=d.current-R.deltaX;if(I=Math.min(Math.abs(I),o)*Math.sign(I),d.current=I,s(I),w(),Math.abs(I)>.2*o){M(R.deltaX),l(I,Date.now()-u.current);return}_.current=P(()=>x(I),2*i)}else M(R.deltaX)});n.useEffect(()=>t(bt,S),[t,S])}const rt=Fe("container"),Ut=n.createContext(null),de=J("useController","ControllerContext",Ut);function Hn({children:e,...t}){var r;const{carousel:o,animation:i,controller:c,on:s,styles:l,render:f}=t,{closeOnPullUp:d,closeOnPullDown:p,preventDefaultWheelX:v,preventDefaultWheelY:_}=c,[g,h]=n.useState(),u=be(),P=wn(),[m,N]=n.useState($.NONE),w=n.useRef(0),O=n.useRef(0),x=n.useRef(1),{registerSensors:S,subscribeSensors:R}=kn(),{subscribe:M,publish:I}=_e(),E=ge(),b=ge(),A=ge(),{containerRef:W,setContainerRef:z,containerRect:T}=Vt(),ne=Ve(Fn({preventDefaultWheelX:v,preventDefaultWheelY:_}),z),B=n.useRef(null),fe=Ve(B,void 0),{getOwnerDocument:Pe}=Be(),we=He(),C=a=>(we?-1:1)*(typeof a=="number"?a:1),Y=D(()=>{var a;return(a=W.current)===null||a===void 0?void 0:a.focus()}),Xe=D(()=>t),Ke=D(()=>u),pe=n.useCallback(a=>I(G,a),[I]),he=n.useCallback(a=>I(Q,a),[I]),re=n.useCallback(()=>I(te),[I]),Le=a=>!(o.finite&&(C(a)>0&&u.currentIndex===0||C(a)<0&&u.currentIndex===u.slides.length-1)),ze=a=>{var y;w.current=a,(y=W.current)===null||y===void 0||y.style.setProperty(U("swipe_offset"),`${Math.round(a)}px`)},Ne=a=>{var y,V;O.current=a,x.current=(()=>{const ie=p&&a>0?a:d&&a<0?-a:0;return Math.min(Math.max(pn(1-ie/60*(1-.5),2),.5),1)})(),(y=W.current)===null||y===void 0||y.style.setProperty(U("pull_offset"),`${Math.round(a)}px`),(V=W.current)===null||V===void 0||V.style.setProperty(U("pull_opacity"),`${x.current}`)},{prepareAnimation:Ht}=et(B,(a,y,V)=>{if(B.current&&T)return{keyframes:[{transform:`translate(0, ${a.rect.y-y.y+V.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),Ye=(a,y)=>{if(d||p){Ne(a);let V=0;B.current&&(V=i.fade*(y?2:1),Ht({rect:B.current.getBoundingClientRect(),opacity:x.current,duration:V})),A(()=>{Ne(0),N($.NONE)},V),N($.ANIMATION),y||re()}},{prepareAnimation:Xt,isAnimationPlaying:Kt}=et(B,(a,y,V)=>{var X;if(B.current&&T&&(!((X=u.animation)===null||X===void 0)&&X.duration)){const F=Ee(o.spacing),ie=(F.percent?F.percent*T.width/100:F.pixel)||0;return{keyframes:[{transform:`translate(${C(u.globalIndex-a.index)*(T.width+ie)+a.rect.x-y.x+V.x}px, 0)`},{transform:"translate(0, 0)"}],duration:u.animation.duration,easing:u.animation.easing}}}),oe=D(a=>{var y,V;const X=a.offset||0,F=X?i.swipe:(y=i.navigation)!==null&&y!==void 0?y:i.swipe,ie=!X&&!Kt()?i.easing.navigation:i.easing.swipe;let{direction:me}=a;const ve=(V=a.count)!==null&&V!==void 0?V:1;let Ie=$.ANIMATION,K=F*ve;if(!me){const ce=T==null?void 0:T.width,Qe=a.duration||0,ye=ce?F/ce*Math.abs(X):F;ve!==0?(Qe<ye?K=K/ye*Math.max(Qe,ye/5):ce&&(K=F/ce*(ce-Math.abs(X))),me=C(X)>0?G:Q):K=F/2}let Re=0;me===G?Le(C(1))?Re=-ve:(Ie=$.NONE,K=F):me===Q&&(Le(C(-1))?Re=ve:(Ie=$.NONE,K=F)),K=Math.round(K),b(()=>{ze(0),N($.NONE)},K),B.current&&Xt({rect:B.current.getBoundingClientRect(),index:u.globalIndex}),N(Ie),I(Je,{type:"swipe",increment:Re,duration:K,easing:ie})});n.useEffect(()=>{var a,y;!((a=u.animation)===null||a===void 0)&&a.increment&&(!((y=u.animation)===null||y===void 0)&&y.duration)&&E(()=>P({type:"swipe",increment:0}),u.animation.duration)},[u.animation,P,E]);const je=[R,Le,(T==null?void 0:T.width)||0,i.swipe,()=>N($.SWIPE),a=>ze(a),(a,y)=>oe({offset:a,duration:y,count:1}),a=>oe({offset:a,count:0})],zt=[()=>{p&&N($.PULL)},a=>Ne(a),a=>Ye(a),a=>Ye(a,!0)];Un(c,...je,d,p,...zt),Bn(m,...je);const qe=D(()=>{c.focus&&Pe().querySelector(`.${L(Ue)} .${L(rt())}`)&&Y()});n.useEffect(qe,[qe]);const Ge=D(()=>{var a;(a=s.view)===null||a===void 0||a.call(s,{index:u.currentIndex})});n.useEffect(Ge,[u.globalIndex,Ge]),n.useEffect(()=>wt(M(G,a=>oe({direction:G,...a})),M(Q,a=>oe({direction:Q,...a})),M(Je,a=>P(a))),[M,oe,P]);const Yt=n.useMemo(()=>({prev:pe,next:he,close:re,focus:Y,slideRect:T?mn(T,o.padding):{width:0,height:0},containerRect:T||{width:0,height:0},subscribeSensors:R,containerRef:W,setCarouselRef:fe,toolbarWidth:g,setToolbarWidth:h}),[pe,he,re,Y,R,T,W,fe,g,h,o.padding]);return n.useImperativeHandle(c.ref,()=>({prev:pe,next:he,close:re,focus:Y,getLightboxProps:Xe,getLightboxState:Ke}),[pe,he,re,Y,Xe,Ke]),n.createElement("div",{ref:ne,className:j(L(rt()),L(pt)),style:{...m===$.SWIPE?{[U("swipe_offset")]:`${Math.round(w.current)}px`}:null,...m===$.PULL?{[U("pull_offset")]:`${Math.round(O.current)}px`,[U("pull_opacity")]:`${x.current}`}:null,...c.touchAction!=="none"?{[U("controller_touch_action")]:c.touchAction}:null,...l.container},...c.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...S},T&&n.createElement(Ut.Provider,{value:Yt},e,(r=f.controls)===null||r===void 0?void 0:r.call(f)))}const Xn=Z(dt,Hn);function q(e){return se(ut,e)}function ot(e){return se("slide",e)}function Kn({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=be(),{slideRect:i,close:c,focus:s}=de(),{render:l,carousel:{imageFit:f,imageProps:d},on:{click:p},controller:{closeOnBackdropClick:v},styles:{slide:_}}=le(),{getOwnerDocument:g}=Be(),h=t!==0;n.useEffect(()=>{var m;h&&(!((m=r.current)===null||m===void 0)&&m.contains(g().activeElement))&&s()},[h,s,g]);const u=()=>{var m,N,w,O;let x=(m=l.slide)===null||m===void 0?void 0:m.call(l,{slide:e,offset:t,rect:i});return!x&&Nt(e)&&(x=n.createElement(Wn,{slide:e,offset:t,render:l,rect:i,imageFit:f,imageProps:d,onClick:h?void 0:()=>p==null?void 0:p({index:o})})),x?n.createElement(n.Fragment,null,(N=l.slideHeader)===null||N===void 0?void 0:N.call(l,{slide:e}),((w=l.slideContainer)!==null&&w!==void 0?w:({children:S})=>S)({slide:e,children:x}),(O=l.slideFooter)===null||O===void 0?void 0:O.call(l,{slide:e})):null},P=m=>{const N=r.current,w=m.target instanceof HTMLElement?m.target:void 0;v&&w&&N&&(w===N||Array.from(N.children).find(O=>O===w)&&w.classList.contains(L(on)))&&c()};return n.createElement("div",{ref:r,className:j(L(ot()),!h&&L(ot("current")),L(pt)),...xn(h),onClick:P,style:_},u())}function zn(){const e=le().styles.slide;return n.createElement("div",{className:L("slide"),style:e})}function Yn({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=be(),{setCarouselRef:i}=de(),c=Ee(e.spacing),s=Ee(e.padding),l=gn(e,t,1),f=[];if(Rt(t))for(let d=r-l;d<=r+l;d+=1){const p=yt(t,d),v=o-r+d,_=e.finite&&(d<0||d>t.length-1);f.push(_?{key:v}:{key:[`${v}`,vn(p)].filter(Boolean).join("|"),offset:d-r,slide:p})}return n.createElement("div",{ref:i,className:j(L(q()),f.length>0&&L(q("with_slides"))),style:{[`${U(q("slides_count"))}`]:f.length,[`${U(q("spacing_px"))}`]:c.pixel||0,[`${U(q("spacing_percent"))}`]:c.percent||0,[`${U(q("padding_px"))}`]:s.pixel||0,[`${U(q("padding_percent"))}`]:s.percent||0}},f.map(({key:d,slide:p,offset:v})=>p?n.createElement(Kn,{key:d,slide:p,offset:v}):n.createElement(zn,{key:d})))}const jn=Z(ut,Yn);function Ft(){const{carousel:e}=le(),{slides:t,currentIndex:r}=be(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function qn(e){var t;const r=He(),{publish:o}=_e(),{animation:i}=le(),{prevDisabled:c,nextDisabled:s}=Ft(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=nt(()=>o(G),l),d=nt(()=>o(Q),l),p=D(v=>{switch(v.key){case sn:o(te);break;case ln:(r?s:c)||(r?d:f)();break;case an:(r?c:s)||(r?f:d)();break}});n.useEffect(()=>e(_t,p),[e,p])}function it({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:c,style:s}){return n.createElement(Wt,{label:e,icon:t,renderIcon:r,className:L(`navigation_${o}`),disabled:c,onClick:i,style:s,...An(de().focus,c)})}function Gn({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:c,next:s,subscribeSensors:l}=de(),{prevDisabled:f,nextDisabled:d}=Ft();return qn(l),n.createElement(n.Fragment,null,e?e():n.createElement(it,{label:"Previous",action:G,icon:Sn,renderIcon:r,style:i.navigationPrev,disabled:f,onClick:c}),t?t():n.createElement(it,{label:"Next",action:Q,icon:On,renderIcon:o,style:i.navigationNext,disabled:d,onClick:s}))}const Qn=Z(Jt,Gn),ct=L(rn),Jn=L(ht);function Zn(e){return"style"in e}function st(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",c=r?o.paddingLeft:o.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(xe(c)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function er({noScroll:{disabled:e},children:t}){const r=He(),{getOwnerDocument:o,getOwnerWindow:i}=Be();return n.useEffect(()=>{if(e)return()=>{};const c=[],s=i(),{body:l,documentElement:f}=o(),d=Math.round(s.innerWidth-f.clientWidth);if(d>0){c.push(st(l,d,r));const p=l.getElementsByTagName("*");for(let v=0;v<p.length;v+=1){const _=p[v];Zn(_)&&s.getComputedStyle(_).getPropertyValue("position")==="fixed"&&!_.classList.contains(Jn)&&c.push(st(_,d,r))}}return l.classList.add(ct),()=>{l.classList.remove(ct),c.forEach(p=>p())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const tr=Z(Zt,er);function lt(e){return se(Ue,e)}function at(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function nr({children:e,animation:t,styles:r,className:o,on:i,portal:c,close:s}){const[l,f]=n.useState(!1),[d,p]=n.useState(!1),v=n.useRef([]),_=n.useRef(null),{setTimeout:g}=Ce(),{subscribe:h}=_e(),P=$t()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),p(!1)}),[]);const m=D(()=>{v.current.forEach(x=>x()),v.current=[]}),N=D(()=>{var x;p(!1),m(),(x=i.exiting)===null||x===void 0||x.call(i),g(()=>{var S;(S=i.exited)===null||S===void 0||S.call(i),s()},P)});n.useEffect(()=>h(te,N),[h,N]);const w=D(x=>{var S,R,M;x.scrollTop,p(!0),(S=i.entering)===null||S===void 0||S.call(i);const I=(M=(R=x.parentNode)===null||R===void 0?void 0:R.children)!==null&&M!==void 0?M:[];for(let E=0;E<I.length;E+=1){const b=I[E];["TEMPLATE","SCRIPT","STYLE"].indexOf(b.tagName)===-1&&b!==x&&(v.current.push(at(b,"inert","")),v.current.push(at(b,"aria-hidden","true")))}v.current.push(()=>{var E,b;(b=(E=_.current)===null||E===void 0?void 0:E.focus)===null||b===void 0||b.call(E)}),g(()=>{var E;(E=i.entered)===null||E===void 0||E.call(i)},P)}),O=n.useCallback(x=>{x?w(x):m()},[w,m]);return l?Qt.createPortal(n.createElement($n,{ref:O,className:j(o,L(lt()),L(ht),d&&L(lt("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==$e.animation.fade?{[U("fade_animation_duration")]:`${P}ms`}:null,...t.easing.fade!==$e.animation.easing.fade?{[U("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:x=>{_.current||(_.current=x.relatedTarget)}},e),c.root||document.body):null}const rr=Z(Ue,nr);function or({children:e}){return n.createElement(n.Fragment,null,e)}const ir=Z(en,or);function cr(e){return se(ft,e)}function sr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:c}=de(),{setContainerRef:s,containerRect:l}=Vt();ue(()=>{c(l==null?void 0:l.width)},[c,l==null?void 0:l.width]);const f=()=>t?t():n.createElement(Wt,{key:te,label:"Close",icon:yn,renderIcon:r,onClick:i});return n.createElement("div",{ref:s,style:o.toolbar,className:L(cr())},e==null?void 0:e.map(d=>d===te?f():d))}const lr=Z(ft,sr);function Bt(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Bt(o,t)))}function ar(e,t={}){const{easing:r,...o}=e,{easing:i,...c}=t;return{easing:{...r,...i},...o,...c}}function fr({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:c,on:s,plugins:l,slides:f,index:d,...p}){const{animation:v,carousel:_,render:g,toolbar:h,controller:u,noScroll:P,on:m,slides:N,index:w,plugins:O,...x}=$e,{config:S,augmentation:R}=_n([k(rr,[k(tr,[k(Xn,[k(jn),k(lr),k(Qn)])])])],l||O),M=R({animation:ar(v,t),carousel:{..._,...e},render:{...g,...r},toolbar:{...h,...o},controller:{...u,...i},noScroll:{...P,...c},on:{...m,...s},...x,...p});return M.open?n.createElement(Pn,{...M},n.createElement(Nn,{slides:f||N,index:xe(d||w)},n.createElement(In,null,n.createElement(Cn,null,Bt(k(ir,S),M))))):null}export{fr as L,dr as R,Qt as a,n as r};
